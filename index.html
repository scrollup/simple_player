<!DOCTYPE html>
<html>
<head>
    <title>Audio Playlist</title>
</head>
<body>
    <h1>Audio Playlist</h1>
    
    <audio id="audioPlayer" controls autoplay>
        Your browser does not support the audio element.
    </audio>
    
    <p>Currently Playing: <span id="currentTrack">Audio 1</span></p>
    
    <ul id="playlist">
    </ul>

    <script>
        const playlist = document.getElementById("playlist");
        const audioPlayer = document.getElementById("audioPlayer");
        const currentTrackElement = document.getElementById("currentTrack");

        let currentTrack = 0;
        let audioFiles = [];

        // Replace this with your JSON data containing paths and titles
        const jsonPlaylist = [
            {
                path: "5-02 Lech Lecha-1 02.mp3",
                title: "Lech Lecha 1"
            },
            {
                path: "5-03 Lech Lecha-1 03.mp3",
                title: "Lech Lecha  2"
            },
            {
                path: "5-04 Lech Lecha-1 04.mp3",
                title: "Lech Lecha  3"
            }
        ];

        // Create the playlist from the JSON data
        jsonPlaylist.forEach((item, index) => {
            const li = document.createElement("li");
            const a = document.createElement("a");
            a.href = item.path;
            a.textContent = item.title;
            li.appendChild(a);
            playlist.appendChild(li);
            audioFiles.push(item.path);
        });

        function playTrack(trackIndex) {
            if (trackIndex < audioFiles.length) {
                audioPlayer.src = audioFiles[trackIndex];
                audioPlayer.play();
                currentTrack = trackIndex;
                currentTrackElement.textContent = jsonPlaylist[currentTrack].title;
            } else {
                // End of playlist
                currentTrack = 0;
                audioPlayer.src = audioFiles[currentTrack];
                currentTrackElement.textContent = jsonPlaylist[currentTrack].title;
            }
        }

        // Play the first track when the page loads
        playTrack(currentTrack);

        audioPlayer.addEventListener("ended", function () {
            // Play the next track when the current one ends
            currentTrack++;
            playTrack(currentTrack);
        });

        playlist.addEventListener("click", function (e) {
            e.preventDefault();
            if (e.target.tagName === "A") {
                const trackIndex = Array.from(playlist.children).indexOf(e.target.parentElement);
                playTrack(trackIndex);
            }
        });
    </script>
</body>
</html>
